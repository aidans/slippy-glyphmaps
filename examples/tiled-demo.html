<!DOCTYPE html>
<html>

<head>
    <title>Urban Parameters - Tiled GriddedGlyph Demo</title>
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" />
    <link rel="stylesheet" href="style.css">

    <script type="importmap">
    {
        "imports": {
            "leaflet": "https://unpkg.com/leaflet@1.9.4/dist/leaflet-src.esm.js",
            "d3": "https://cdn.jsdelivr.net/npm/d3@7/+esm"
        }
    }
    </script>

    <style>
        #map {
            height: 600px;
            width: 100%;
        }
        
        .demo-controls {
            padding: 20px;
            background: #f5f5f5;
            margin-bottom: 10px;
            border-radius: 5px;
        }
        
        .demo-info {
            padding: 10px;
            background: #e8f4f8;
            margin-bottom: 10px;
            border-radius: 5px;
            font-size: 14px;
        }
        
        .debug-panel {
            background: rgba(255, 255, 255, 0.9);
            padding: 10px;
            border-radius: 5px;
            box-shadow: 0 1px 5px rgba(0,0,0,0.4);
        }
        
        .performance-note {
            padding: 10px;
            background: #e8f5e8;
            margin-bottom: 10px;
            border-radius: 5px;
            border-left: 4px solid #4CAF50;
            font-size: 14px;
        }
    </style>

    <script src="tiled-demo-script.js" type="module"></script>
</head>

<body>
    <h1>Urban Parameters - Tiled GriddedGlyph Demo</h1>
    
    <div class="demo-info">
        <strong>ðŸ†š Performance Comparison Demo:</strong> This demo uses the same data and configuration as 
        <code>new-demo.html</code> but with the new <strong>L.GridLayer-based implementation</strong>. 
        Compare the performance side-by-side! This approach fixes coordinate handling issues and provides 
        better performance through tiled rendering. Each tile is rendered independently, ensuring proper 
        alignment with the basemap during zoom and pan operations.
    </div>
    
    
    <div class="demo-controls">
        <p><strong>Variables:</strong> 
        <span style="color: #2e8b57;">Supermarket</span> | 
        <span style="color: #ffa500;">Hospitals</span> | 
        <span style="color: #00ff00;">GP</span> | 
        <span style="color: #0000ff;">School</span> | 
        <span style="color: #1e90ff;">Employment</span> | 
        <span style="color: #ff1493;">Urban Centre</span>
        </p>
        <p><strong>ðŸ§ª Test Instructions:</strong> 
        1. Open <code>new-demo.html</code> in another tab for comparison<br>
        2. Zoom in/out and pan around to test performance differences<br>
        3. Check browser console for detailed timing logs<br>
        4. Notice how glyphs remain properly aligned at all zoom levels (no coordinate warnings!)</p>
    </div>
    
    <div id="map"></div>
    
</body>

</html>
